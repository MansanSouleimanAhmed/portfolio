const button = document.querySelector("button");
const leftDiv = document.querySelector(".left-div");
const middleDiv = document.querySelector(".middle-div");
const rightDiv = document.querySelector(".right-div");
const ligneVerticale = document.querySelector(".ligne-verticale");
button.addEventListener("click", dropDOwn);
function dropDOwn() {
  leftDiv.style.display = "none";
  rightDiv.style.display = "none";
  scaleAnimation();
  function scaleAnimation() {
    leftDiv.style.display = "block";
    rightDiv.style.display = "none";
    leftDiv.style.width = "5000px";
    leftDiv.style.height = "20px";
    button.style.display = "none";
  }
  motionleftDiv();
  function motionleftDiv() {
    leftDiv.style.cssText = "display:block; width:100%; height:10px";
    button.style.display = "none";
    leftDiv.style.display = "block";
    var pxTranslate = "400px";
    leftDiv.animate(
      [
        { transform: "translateY(0px)" },
        { transform: `translateY(${pxTranslate})` }
      ],

      {
        duration: 3000
      }
    );
    setTimeout(rotationAnimation, 1000);
    function rotationAnimation() {
      button.style.display = "none";
      leftDiv.style.cssText = `display: block; position: absolute; top: ${pxTranslate}; ; width:150%;height:10px; margin:auto,transform-origin: center;left:-30%;transform:translateX:(30%)`;

      leftDiv.animate(
        [{ transform: "rotate(0deg)" }, { transform: "rotate(270deg)" }],

        {
          duration: 1000,
          iterations: 1,
          fill: "forwards"
        }
      );
    }
  }

 
} 







>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>05/04 >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>








const nav = document.querySelector("nav");
const rotateDiv = document.querySelector(".rotate-div");
const logo = document.querySelector(".logo");
const leftFixedDiv = document.querySelector(".left-fixed-div");
const textLeftDiv = document.querySelector(".text-left-div");
const itemDiv = document.querySelector(".item-div");
const beforeElement = document.createElement("div");
const afterElement = document.createElement("div");
const slideOrangeDiv = document.querySelector(".slide-orange-div");
const blackDiv = document.querySelector(".black-div");
logo.addEventListener("click", dropDown, true);
function dropDown() {
  scaleAnimation();
  function scaleAnimation() {
    logo.style.display = "block";
    rotateDiv.style.cssText = `width:100%; height:10px`;
  }
  motionLeftDiv();
  function motionLeftDiv() {
    blackDiv.style.display = "none";
    slideOrangeDiv.style.display = "none";
    logo.style.display = "none";
    nav.style.display = "none";
    textLeftDiv.style.cssText = "display:none;";
    leftFixedDiv.style.cssText = "display:none";
    rotateDiv.style.cssText = `display:block`;
    beforeElement.style.cssText =
      "height:3000px; width:100vw;bottom:200%; background-color:#f56156; position:absolute; display:block";
    logo.style.display = "none";
    var pxTranslate = "50vh";
    var parentDivBefore = itemDiv.parentNode;
    var parentDivAfter = itemDiv.parentNode;
    parentDivBefore.insertBefore(beforeElement, itemDiv);
    parentDivAfter.insertBefore(afterElement, itemDiv);

    rotateDiv.animate(
      [
        { transform: "translateY(0px)" },
        { transform: `translateY(${pxTranslate})` },
      ],

      {
        duration: 900,
        fill: "forwards",
      }
    );
    setTimeout(rotationAnimation, 1000);
    function rotationAnimation() {
      beforeElement.style.cssText =
        "height:300%; width:100vw;top:0%; left:100%; background-color:#f56156;";
      afterElement.style.cssText =
        "height:300%; width:100vw;  position: absolute; right: 100%;top:0%;background-color:#fff";
      rotateDiv.style.cssText = `display: block; position: absolute; top: 0px; left:50%;transform-origin: center; height:300%;bottom:25%`;
      rotateDiv.animate(
        [{ transform: "rotate(0deg)" }, { transform: "rotate(180deg)" }],

        {
          duration: 500,
          iterations: 1,
          fill: "forwards",
        }
      );
    }
  }
  fadeOutEffect();
  function fadeOutEffect() {
    var fadeEffect = setInterval(function () {
      if (!beforeElement.style.opacity) {
        beforeElement.style.opacity = 1;
      }
      if (beforeElement.style.opacity > 0) {
        beforeElement.style.opacity -= 1;
      } else {
        clearInterval(fadeEffect);
      }
      leftFixedDiv.style.cssText = "display:block";
      setTimeout(reload, 500);
      function reload() {
        document.location.reload(true);
      }
    }, 1700);
  }
}

blackDivMoving();
function blackDivMoving() {
  let allLi = document.querySelectorAll(".li");
  Array.from(allLi).forEach((ele) => {
    ele.addEventListener("mouseover", function (event) {
      blackDiv.animate(
        [{ transform: "translateX(90vw)" }, { transform: "translateX(-90vw)" }],
        { duration: 1000, fill: "forwards" }
      );
    });
  });
  blackDiv.addEventListener("mouseleave", () => {
    blackDiv.animate(
      [{ transform: "translateX(-90vw)" }, { transform: "translateX(90vw)" }],
      { duration: 1000, fill: "forwards" }
    );
  });
}

draggableDiv();
function draggableDiv() {
  function getOffsetX(e) {
    e.stopPropagation();
    if (e) {
      slideOrangeDiv.isDown = true;
      slideOrangeDiv.offset = [slideOrangeDiv.offsetLeft - e.clientX];
    }
  }
  function checkEvent(e) {
    slideOrangeDiv.isDown = false;
    slideOrangeDiv.addEventListener("mouseout", (event) => {
      event.preventDefault();
      slideOrangeDiv.isDown = false;
    });
  }
  function moveDiv(event) {
    event.stopPropagation();
    if (slideOrangeDiv.isDown) {
      slideOrangeDiv.mousePosition = {
        x: event.clientX,
      };
      slideOrangeDiv.style.left =
        slideOrangeDiv.mousePosition.x + slideOrangeDiv.offset[0] + "px";
      //    console.log(slideOrangeDiv.style.left);
    }
  }

  slideOrangeDiv.addEventListener("mousedown", getOffsetX, true);
  slideOrangeDiv.addEventListener("mouseup", checkEvent, true);
  slideOrangeDiv.addEventListener("mousemove", moveDiv, true);
}

function getInitialPos(event) {
  event.stopPropagation();
  if (slideOrangeDiv.isDown) {
    slideOrangeDiv.mousePosition = {
      x: event.clientX,
    };
    slideOrangeDiv.style.left =
      slideOrangeDiv.mousePosition.x + slideOrangeDiv.offset[0] + "px";
    var initialPosition = slideOrangeDiv.style.left;
    console.log(initialPosition);
  }
}
function animateDiv(event) {
  //console.log(slideOrangeDiv.style.left);
  slideOrangeDiv.style.left = "-50%";

  /*   if (
    slideOrangeDiv.style.left == "-55%" ||
    slideOrangeDiv.style.left == "-45%"
  ) {
    alert("limit");
  } */
}
slideOrangeDiv.addEventListener("mousedown", getInitialPos, true);
slideOrangeDiv.addEventListener("mouseout", animateDiv, true);
slideOrangeDiv.addEventListener("mouseup", animateDiv, true);

>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

const nav = document.querySelector("nav");
const rotateDiv = document.querySelector(".rotate-div");
const logo = document.querySelector(".logo");
const leftFixedDiv = document.querySelector(".left-fixed-div");
const textLeftDiv = document.querySelector(".text-left-div");
const itemDiv = document.querySelector(".item-div");
const beforeElement = document.createElement("div");
const afterElement = document.createElement("div");
const slideOrangeDiv = document.querySelector(".slide-orange-div");
const blackDiv = document.querySelector(".black-div");
logo.addEventListener("click", dropDown, true);
function dropDown() {
  scaleAnimation();
  function scaleAnimation() {
    logo.style.display = "block";
    rotateDiv.style.cssText = `width:500px; height:10px; display:block`;
  }
  motionLeftDiv();
  function motionLeftDiv() {
    blackDiv.style.display = "none";
    slideOrangeDiv.style.display = "none";
    logo.style.display = "none";
    nav.style.display = "none";
    textLeftDiv.style.cssText = "display:none;";
    leftFixedDiv.style.cssText = "display:none";
    rotateDiv.style.cssText = `display:block`;
    beforeElement.style.cssText =
      "height:3000px; width:100vw;bottom:200%; background-color:#f56156; position:absolute; display:block";
    logo.style.display = "none";
    var pxTranslate = "50vh";
    var parentDivBefore = itemDiv.parentNode;
    var parentDivAfter = itemDiv.parentNode;
    parentDivBefore.insertBefore(beforeElement, itemDiv);
    parentDivAfter.insertBefore(afterElement, itemDiv);

    rotateDiv.animate(
      [
        { transform: "translateY(0px)" },
        { transform: `translateY(${pxTranslate})` },
      ],

      {
        duration: 900,
        fill: "forwards",
      }
    );
    setTimeout(rotationAnimation, 1000);
    function rotationAnimation() {
      beforeElement.style.cssText =
        "height:300%; width:100vw;top:0%; left:100%; background-color:#f56156;";
      afterElement.style.cssText =
        "height:300%; width:100vw;  position: absolute; right: 100%;top:0%;background-color:#fff";
      rotateDiv.style.cssText = `display: block; position: absolute; top: 0px; left:50%;transform-origin: center; height:300%;bottom:25%`;
      rotateDiv.animate(
        [{ transform: "rotate(0deg)" }, { transform: "rotate(180deg)" }],

        {
          duration: 500,
          iterations: 1,
          fill: "forwards",
        }
      );
    }
  }
  fadeOutEffect();
  function fadeOutEffect() {
    var fadeEffect = setInterval(function () {
      if (!beforeElement.style.opacity) {
        beforeElement.style.opacity = 1;
      }
      if (beforeElement.style.opacity > 0) {
        beforeElement.style.opacity -= 1;
      } else {
        clearInterval(fadeEffect);
      }
      leftFixedDiv.style.cssText = "display:block";
      setTimeout(reload, 500);
      function reload() {
        document.location.reload(true);
      }
    }, 1700);
  }
}

blackDivMoving();
function blackDivMoving() {
  let allLi = document.querySelectorAll(".li");
  Array.from(allLi).forEach((ele) => {
    ele.addEventListener("mouseover", function (event) {
      blackDiv.animate(
        [{ transform: "translateX(90vw)" }, { transform: "translateX(-90vw)" }],
        { duration: 1000, fill: "forwards" }
      );
    });
  });
  blackDiv.addEventListener("mouseleave", () => {
    blackDiv.animate(
      [{ transform: "translateX(-90vw)" }, { transform: "translateX(90vw)" }],
      { duration: 1000, fill: "forwards" }
    );
  });
}

draggableDiv();
function draggableDiv() {
  function getOffsetX(e) {
    e.stopPropagation();
    if (e) {
      slideOrangeDiv.isDown = true;
      slideOrangeDiv.offset = [slideOrangeDiv.offsetLeft - e.clientX];
    }
  }
  function checkEvent(e) {
    slideOrangeDiv.isDown = false;
    slideOrangeDiv.addEventListener("mouseout", (event) => {
      event.preventDefault();
      slideOrangeDiv.isDown = false;
    });
  }
  function moveDiv(event) {
    event.stopPropagation();
    if (slideOrangeDiv.isDown) {
      slideOrangeDiv.mousePosition = {
        x: event.clientX,
      };
      slideOrangeDiv.style.left =
        slideOrangeDiv.mousePosition.x + slideOrangeDiv.offset[0] + "px";
      //    console.log(slideOrangeDiv.style.left);
    }
  }

  slideOrangeDiv.addEventListener("mousedown", getOffsetX, true);
  slideOrangeDiv.addEventListener("mouseup", checkEvent, true);
  slideOrangeDiv.addEventListener("mousemove", moveDiv, true);
}

function getInitialPos(event) {
  event.stopPropagation();
  if (slideOrangeDiv.isDown) {
    slideOrangeDiv.mousePosition = {
      x: event.clientX,
    };
    slideOrangeDiv.style.left =
      slideOrangeDiv.mousePosition.x + slideOrangeDiv.offset[0] + "px";
    var initialPosition = slideOrangeDiv.style.left;
    console.log(initialPosition);
  }
}
function animateDiv(event) {
  //console.log(slideOrangeDiv.style.left);
  slideOrangeDiv.style.left = "-50%";

  /*   if (
    slideOrangeDiv.style.left == "-55%" ||
    slideOrangeDiv.style.left == "-45%"
  ) {
    alert("limit");
  } */
}
slideOrangeDiv.addEventListener("mousedown", getInitialPos, true);
slideOrangeDiv.addEventListener("mouseout", animateDiv, true);
slideOrangeDiv.addEventListener("mouseup", animateDiv, true);

///////////////////////////////////////////16/04/2020
//Store in varibles the dom elements
const cursor = document.querySelector(".cursor");
const nav = document.querySelector("nav");
const allLi = document.querySelectorAll(".li");
const rotateDiv = document.querySelector(".rotate-div");
const logo = document.querySelector(".logo");
const leftFixedDiv = document.querySelector(".left-fixed-div");
const textLeftDiv = document.querySelector(".text-left-div");
const itemDiv = document.querySelector(".item-div");
const beforeElement = document.createElement("div");
const afterElement = document.createElement("div");
const blackDiv = document.querySelector(".black-div");
const imageRightFix = document.querySelector(".image-right-fix");
const slideOrangeDiv = document.querySelector(".slide-orange-div");
/* const allSpan = document.querySelectorAll(".span"); */

////Dom manipulation
//Make letters move on mousemove in textLeftDiv

leftFixedDiv.addEventListener("mousemove", (e) => {
  let cursorX = e.pageX;
  let cursorY = e.pageY;
  cursor.setAttribute("style", `top :${cursorY}px; left:${cursorX}px`);
  var test = [...document.querySelectorAll("span")];
  test.forEach((e) => {
    let dx = `${cursorX - Math.floor(e.getBoundingClientRect().x)}px`;
    let dy = `${cursorY - Math.floor(e.getBoundingClientRect().y)}px`;
    //console.log(dx + " " + dy);
    let array = [];
    array.push(e);
    //  console.log(array);
    array.forEach((element) => {
      element.addEventListener("mousemove", (event) => {
        //  element.style.cssText = `display:`;
        if (dx <= "35px") {
          element.style.cssText = `display:none`;
        } else {
          element.style.cssText = `display:block`;
        }
      });
      element.addEventListener("mouseout", (event) => {});
    });
  });
});

textLeftDiv.addEventListener("mouseout", (e) => {
  cursor.style.display = "none";
});
///Logo disapear
logo.addEventListener("click", dropDown, true);
var rocket = document.querySelector(".image-right-fix");
var btn = document.querySelector(".slide-orange-div");

function dropDown() {
  scaleAnimation();
  function scaleAnimation() {
    logo.style.display = "block";
    rotateDiv.style.cssText = `width:100%; height:1px; display:block`;
  }
  motionLeftDiv();
  function motionLeftDiv() {
    blackDiv.style.display = "none";
    slideOrangeDiv.style.display = "none";
    logo.style.display = "none";
    nav.style.display = "none";
    textLeftDiv.style.cssText = "display:none;";
    leftFixedDiv.style.cssText = "display:none";
    imageRightFix.style.display = "none";
    var pxTranslate = "50vh";
    var parentDivBefore = itemDiv.parentNode;
    var parentDivAfter = itemDiv.parentNode;
    parentDivBefore.insertBefore(beforeElement, itemDiv);
    parentDivAfter.insertBefore(afterElement, itemDiv);
    beforeElement.style.cssText =
      "height:3000px; width:100vw;bottom:200%; background-color:#f56156; position:absolute; display:block";
    rotateDiv.animate(
      [
        { transform: "translateY(0px)" },
        { transform: `translateY(${pxTranslate})` },
      ],

      {
        duration: 900,
        fill: "forwards",
      }
    );
    setTimeout(rotationAnimation, 1000);
    function rotationAnimation() {
      beforeElement.style.cssText =
        "height:300%; width:100vw;top:0%; left:100%; background-color:#f56156;";
      afterElement.style.cssText =
        "height:300%; width:100vw;  position: absolute; right: 100%;top:0%;background-color:#fff";
      rotateDiv.style.cssText = `display: block; position: absolute; top: 0px; left:50%;transform-origin: center; height:300%;bottom:25%`;
      rotateDiv.animate(
        [{ transform: "rotate(0deg)" }, { transform: "rotate(180deg)" }],

        {
          duration: 500,
          iterations: 1,
          fill: "forwards",
        }
      );
    }
  }
  fadeOutEffect();
  function fadeOutEffect() {
    var fadeEffect = setInterval(function() {
      if (!beforeElement.style.opacity) {
        beforeElement.style.opacity = 1;
      }
      if (beforeElement.style.opacity > 0) {
        beforeElement.style.opacity -= 0.3;
      } else {
        clearInterval(fadeEffect);
      }
      leftFixedDiv.style.cssText = "display:block";
      setTimeout(reload, 500);
      function reload() {
        document.location.reload(true);
      }
    }, 1700);
  }
}

blackDivMoving();
function blackDivMoving() {
  Array.from(allLi).forEach((ele) => {
    // console.log(ele.classList.value);
    ele.addEventListener("mouseover", function(event) {
      blackDiv.classList.toggle("open");
      applyStyle();
      function applyStyle(classList) {
        classList = ele.classList.value;
        switch (classList) {
          case "li project":
            //  blackDiv.style.cssText = "background-color:red";
            break;
          case "li credentials":
            //   blackDiv.style.cssText = "background-color:blue";
            break;
          case "li cv":
            //    blackDiv.style.cssText = "background-color:green";
            break;
          case "li about-me":
            //   blackDiv.style.cssText = "background-color:gray";
            break;
          default:
          //  blackDiv.style.cssText = "background-color:orange";
        }
      }
      //  setTimeout()
    });

    blackDiv.addEventListener("mouseout", () => {
      blackDiv.classList.remove("open");
    });
  });
}
contentAppear();
function contentAppear() {
  Array.from(allLi).forEach((ele) => {
    ele.addEventListener("click", (event) => {
      alert("test");
    });
  });
}

draggableDiv();
function draggableDiv() {
  function getOffsetX(e) {
    e.stopPropagation();
    if (e) {
      slideOrangeDiv.isDown = true;
      slideOrangeDiv.offset = [slideOrangeDiv.offsetLeft - e.clientX];
    }
  }
  function checkEvent(e) {
    slideOrangeDiv.isDown = false;
    slideOrangeDiv.addEventListener("mouseout", (event) => {
      event.preventDefault();
      slideOrangeDiv.isDown = false;
    });
  }
  function moveDiv(event) {
    event.stopPropagation();
    if (slideOrangeDiv.isDown) {
      slideOrangeDiv.mousePosition = {
        x: event.clientX,
      };
      slideOrangeDiv.style.left =
        slideOrangeDiv.mousePosition.x + slideOrangeDiv.offset[0] + "px";
    }
  }

  slideOrangeDiv.addEventListener("mousedown", getOffsetX, true);
  slideOrangeDiv.addEventListener("mouseup", checkEvent, true);
  slideOrangeDiv.addEventListener("mousemove", moveDiv, true);
}

function getInitialPos(event) {
  event.stopPropagation();
  if (slideOrangeDiv.isDown) {
    slideOrangeDiv.mousePosition = {
      x: event.clientX,
    };
    slideOrangeDiv.style.left =
      slideOrangeDiv.mousePosition.x + slideOrangeDiv.offset[0] + "px";
    var initialPosition = slideOrangeDiv.style.left;
    //  console.log(initialPosition);
  }
}
function animateDiv(event) {
  //console.log(slideOrangeDiv.style.left);
  slideOrangeDiv.style.left = "-50%";
}
slideOrangeDiv.addEventListener("mousedown", getInitialPos, true);
slideOrangeDiv.addEventListener("mouseout", animateDiv, true);
slideOrangeDiv.addEventListener("mouseup", animateDiv, true);
